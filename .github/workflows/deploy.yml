name: "Aws EC2 Deploy"

on:
    push:
        branches: ["main"]

jobs:
    build:
        runs-on: ubuntu-latest
        steps:
            - name: Checkout repository
              uses: actions/checkout@v3

            # - name: Deploy to EC2
            #   run: |
            #     ssh -i "${{secrets.SSH_PVT_KEY}}"ubuntu@${{ secrets.EC2_HOST }} << 'EOF'
            #       cd ~/app
            #       git pull origin main
            #       docker-compose down
            #       docker-compose up --build -d
            #     EOF
            - name: Connect to EC2
              run: |
                ssh ubuntu@${{ secrets.EC2_HOST }} "echo 'Connected to EC2!'"
    
